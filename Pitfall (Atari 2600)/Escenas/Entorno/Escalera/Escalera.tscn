[gd_scene load_steps=6 format=2]

[ext_resource path="res://escenas/Entorno/Escalera/Graficos/sombra.png" type="Texture" id=1]
[ext_resource path="res://escenas/Entorno/Escalera/Graficos/parte escalera.png" type="Texture" id=2]

[sub_resource type="GDScript" id=3]
script/source = "extends Area2D

func _on_Gatillo_area_entered(area):
	if area.name == \"Cuerpo\":
		area.get_parent().escalando = true

func _on_Escalera_area_exited(area):
	if area.name == \"Cuerpo\":
		area.get_parent().escalando = false
		area.get_parent().limpiar_estado_actual()
"

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 7, 37 )

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 7, 1.5 )

[node name="Escalera" type="Area2D"]
collision_layer = 8
script = SubResource( 3 )

[node name="Sombra" type="Sprite" parent="."]
position = Vector2( 0, 39 )
texture = ExtResource( 1 )

[node name="Escalera" type="Sprite" parent="."]
z_index = 2
texture = ExtResource( 2 )
region_enabled = true
region_rect = Rect2( 0, 7, 16, 77 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource( 1 )

[node name="Gatillo" type="Area2D" parent="."]
position = Vector2( 0, 39 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Gatillo"]
shape = SubResource( 2 )

[connection signal="area_exited" from="." to="." method="_on_Escalera_area_exited"]
[connection signal="area_entered" from="Gatillo" to="." method="_on_Gatillo_area_entered"]
